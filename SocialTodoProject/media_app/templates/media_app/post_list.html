{% extends 'media_app/base.html' %}
{% block title %}All Posts{% endblock %}
{% block content %}
<h1 class="text-2xl font-bold mb-4">All Posts</h1>
{% if user.is_authenticated %}
  <a href="{% url 'media_app:post_create' %}" class="bg-green-500 text-white px-4 py-2 rounded">+ Post</a>
{% endif %}
<ul class="mt-4 space-y-4">
  {% for post in posts %}
    <li class="bg-white p-4 rounded shadow">
      <p>{{ post.content }}</p>
      <small class="text-gray-500">{{ post.created_at }}</small>
      <div class="mt-2">
        <a href="{% url 'media_app:post_detail' post.pk %}" class="text-blue-600">View</a>
        {% if post.user == user %}
          | <a href="{% url 'media_app:post_edit' post.pk %}" class="text-yellow-600">Edit</a>
          | <a href="{% url 'media_app:post_delete' post.pk %}" class="text-red-600">Delete</a>
        {% endif %}
      </div>
    </li>
  {% empty %}
    <li>No posts yet.</li>
  {% endfor %}
</ul>
{% endblock %}
